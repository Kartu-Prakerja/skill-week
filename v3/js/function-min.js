"use strict";var e="/v3/",a="https://public-prakerja.oss-ap-southeast-5.aliyuncs.com/skill_week/list_pelatihan_skillweek_3.json",t=new URLSearchParams(window.location.search),s=(_.isNull(localStorage.getItem("course_list"))?$.getJSON(a).done((function(e){localStorage.setItem("course_list",JSON.stringify(e))})):localStorage.getItem("course_list"),_.isNull(localStorage.getItem("users"))?null:JSON.parse(localStorage.getItem("users"))),i=localStorage.getItem("login-popup-skip"),l=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(l).forEach((function(e){e.addEventListener("submit",(function(a){e.checkValidity()||(a.preventDefault(),a.stopPropagation()),e.classList.add("was-validated")}),!1)}));var o="<div class='col-12 col-md-12'><div class='alert alert-info' role='alert'><div class='d-flex'><div class='pe-3'><i class='bi bi-info-circle-fill fs-4'></i></div><div><h6 class='alert-heading'>Pelatihan tidak ditemukan</h6><p>Mohon periksa kembali kata kunci Anda dan pastikan ejaan dan tata bahasa yang benar. Anda juga dapat mencoba menggunakan kata kunci yang berbeda atau mencari di topik pelatihan yang berbeda.</p></div></div></div></div>",r=function(a,t,s){var i=t.course_type.toLowerCase()=="Online Self-Paced Learning".toLowerCase()?"text-bg-warning":"text-bg-help",l=e+"pelatihan/detail.html?title="+t.course_title.replace(/\s+/gi,"-").toLowerCase()+"&id="+t.course_id,o="100%"==t.course_discount?"Gratis":"Rp "+Number(t.course_after_discount).toLocaleString("id"),r="100%"!=t.course_discount?"color-secondary":"",c=null==s?"col-12 col-md-6 col-xl-4 col-xxl-3 mb-4 mb-lg-5":"wl-carousel-card pb-3",n="<div id='"+t.index+"' class='"+c+"'><div class='card pds-card'><div class='card-cover'><img loading='lazy' src='"+t.course_image+"' class='card-img-top' alt='"+t.course_title+"'><div class='card-cover-overlay'><div class='d-flex justify-content-between align-middle'><div class='align-self-center'><div class='card-company'><img class='me-1 card-logo' src='"+t.lp_logo+"' alt='"+t.lp_name+"'><span class='course-lp-name'>"+t.lp_name+"</span></div></div><div class='align-self-center'><span class='badge rounded-pill text-capitalize "+i+"'>"+t.course_type.replace(/Online/g,"")+"</span></div></div></div></div><div class='card-body'><h6 class='mb-1 course-title text-capitalize' title='"+t.course_title+"'>"+t.course_title+"</h6><span class='mb-2 badge text-bg-light text-capitalize'>"+t.course_category+"</span><div><div class='course-real-price mb-1'><span>Rp "+Number(t.course_price).toLocaleString("id")+"</span> <span class='badge text-bg-ghost-success'>"+t.course_discount+"</span></div><div class='course-price card-price mb-1 "+r+"'>"+o+"</div></div><div class='mt-3 text-center'><a href='"+l+"' class='apply-course btn btn-primary w-100 mb-2 text-truncate' rel='nofollow' data-event='skill_week_apply_course'>Selengkapnya</a></div>";$(a).append(n).ready((function(){}))},c=function(e,a,t,s,i,l,o,c){$(e).unbind("click"),$(e).on("click",(function(){var n=$(e);t=s,s+=a,o+=1,$.each(i.slice(t,s),(function(e,a){r(l,a)})),u(n,c,o)}))},n=function(e,a,t,s){$(e).click((function(e){var i=$("#course-lists"),l=$("#load-more"),n=(i=$("#course-lists"),[]),d=[],p=[],m=a,f=$("#filter-keyword").val();$.each($(".filter-category:checked"),(function(e,a){n[e]=$(a).val()})),$.each($(".filter-price:checked"),(function(e,a){d[e]=$(a).val()})),$.each($(".filter-lp:checked"),(function(e,a){p[e]=$(a).val()})),_.isEmpty(d)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.course_after_discount)>-1}),{keys:d})),_.isEmpty(n)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.course_category.toLowerCase())>-1}),{keys:n})),_.isEmpty(p)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.lp_name.toLowerCase())>-1}),{keys:p}));var h=_.filter(m,(function(e){return-1!==e.course_title.toLowerCase().indexOf(f.toLowerCase())})),v=h.length,g=Math.ceil(v/12);i.html(""),$("#course-counter div").html("Ditemukan <b>"+v+"</b> pelatihan"),0!==h.length?$.each(h.slice(t,s),(function(e,a){r(i,a)})):i.html(o),c(l,12,t,s,h,i,1,g),u(l,g,1),$("#modalFilter").modal("hide");var b=n.join(","),y=d.join(","),k=p.join(",");window.history.replaceState(null,null,"?topic="+b.replace(/\s+/gi,"-").toLowerCase()+"&keyword="+f.replace(/\s+/gi,"-").toLowerCase()+"&price="+y.replace(/\s+/gi,"-").toLowerCase()+"&lp="+k.replace(/\s+/gi,"-").toLowerCase())}))},d=function(e,a,t,s,i){$(e).on("submit",(function(e){e.preventDefault();var a=$("#course-lists"),l=$("#load-more"),n=[],d=[],p=[],m=t,f=$(this).find("input").val();$.each($(".filter-category:checked"),(function(e,a){n[e]=$(a).val()})),$.each($(".filter-price:checked"),(function(e,a){d[e]=$(a).val()})),$.each($(".filter-lp:checked"),(function(e,a){p[e]=$(a).val()})),$.each($(".filter-category:checked"),(function(e,a){n[e]=$(a).val()})),$.each($(".filter-price:checked"),(function(e,a){d[e]=$(a).val()})),$.each($(".filter-lp:checked"),(function(e,a){p[e]=$(a).val()})),_.isEmpty(d)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.course_after_discount)>-1}),{keys:d})),_.isEmpty(n)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.course_category.toLowerCase())>-1}),{keys:n})),_.isEmpty(p)||(m=_.filter(m,(function(e){return this.keys.indexOf(e.lp_name.toLowerCase())>-1}),{keys:p}));var h=_.filter(m,(function(e){return-1!==e.course_title.toLowerCase().indexOf(f.toLowerCase())})),v=h.length,g=Math.ceil(v/12);a.html(""),$("#course-counter div").html("Ditemukan <b>"+v+"</b> pelatihan"),0!==h.length?$.each(h.slice(s,i),(function(e,t){r(a,t)})):a.html(o),c(l,12,s,i,h,a,1,g),u(l,g,1);var b=n.join(","),y=d.join(","),k=p.join(",");window.history.replaceState(null,null,"?topic="+b.replace(/\s+/gi,"-").toLowerCase()+"&keyword="+f.replace(/\s+/gi,"-").toLowerCase()+"&price="+y.replace(/\s+/gi,"-").toLowerCase()+"&lp="+k.replace(/\s+/gi,"-").toLowerCase())})),$(a).on("click",(function(a){$(e).trigger("submit")}))};var u=function(e,a,t){a>0&&t<a?e.removeClass("visually-hidden"):e.addClass("visually-hidden")},p=function(e){$(e).on("click",(function(e){var a=$(this),t=a.attr("data-event"),s=a.parents("div.card-body").find(".course-price").html(),i=a.parents("div.card-body").find("h6.course-title").html(),l=a.parents("div.card-cover").find(".course-lp-name").html();void 0!==window.DataLayer&&dataLayer.push({event:t,course_title:i,price:s,lp_name:l})}))};function m(){var e=$("#course-lists"),s=$("#load-more"),i=$("#btn-apply-filter"),l=$("#form-search"),m=$("#button-search"),f=_.isEmpty(t.get("topic"))?"":t.get("topic").toLowerCase().replace(/-|%20/gi," ").split(","),h=_.isEmpty(t.get("price"))?"":t.get("price").toLowerCase().replace(/-|%20/gi," ").split(","),v=_.isEmpty(t.get("lp"))?"":t.get("lp").toLowerCase().replace(/-|%20/gi," ").split(","),g=_.isEmpty(t.get("keyword"))?"":t.get("keyword").replace(/-|%20/gi," ");_.isEmpty(h)&&_.isEmpty(h)&&_.isEmpty(v)||$("#button-addon1").attr("class","btn btn-primary"),e.length&&$.getJSON(a,(function(a){var t=_.shuffle(a);_.isEmpty(h)||(t=_.filter(t,(function(e){return this.keys.indexOf(e.course_after_discount)>-1}),{keys:h})),_.isEmpty(f)||(t=_.filter(t,(function(e){return this.keys.indexOf(e.course_category.toLowerCase())>-1}),{keys:f})),_.isEmpty(v)||(t=_.filter(t,(function(e){return this.keys.indexOf(e.lp_name.toLowerCase())>-1}),{keys:v}));var b=null!==g?_.filter(t,(function(e){return-1!==e.course_title.toLowerCase().indexOf(g.toLowerCase())})):t;null!==g&&$("#filter-keyword").val(g);var y=b.length,k=Math.ceil(y/12);setTimeout((function(){var t;e.html(""),$("#course-counter div").html("Ditemukan <b>"+y+"</b> pelatihan"),_.isEmpty(b)?e.html(o):$.each(b.slice(0,12),(function(a,t){r(e,t)})),u(s,k,1),c(s,12,0,12,b,e,1,k),function(e,a,t,s){for(var i,l={},o={},r=[],c=[],n=0;i=e[n++];){var d=i.course_category.toLowerCase(),u=i.lp_name.toLowerCase();d in l||(l[d]=1,r.push(d)),u in o||(o[u]=1,c.push(u))}r=r.sort(),c=c.sort(),$("#course-LP, #course-category").html(""),_.each(r,(function(e,a){var t=-1!==_.indexOf(s,e)?"checked":"";$("#course-category").append('<div class="form-check"><input class="form-check-input filter-category" id="filter-category-'+a+'" type="checkbox" value="'+e+'" '+t+'><label class="form-check-label text-capitalize" for="filter-category-'+a+'">'+e+"</label></div>")})),_.each(c,(function(e,t){var s=-1!==_.indexOf(a,e)?"checked":"";$("#course-LP").append('<div class="form-check"><input class="form-check-input filter-lp" id="filter-lp-'+t+'" type="checkbox" value="'+e+'" '+s+'><label class="form-check-label text-capitalize" for="filter-lp-'+t+'">'+e+"</label></div>")})),_.each(t,(function(e){$('.filter-price[value="'+e+'"]').attr("checked",!0)})),_.isEmpty(a)&&_.isEmpty(t)&&_.isEmpty(s)||$("#btn-reset-filter").removeClass("disabled")}(a,v,h,f),t="input.form-check-input",$("#btn-reset-filter").click((function(e){$(this).addClass("disabled"),$("#button-addon1").attr("class","btn btn-outline-light"),$(t).prop("checked",!1)})),function(e,a){$(e).click((function(t){$(e).is(":checked")?($(a).removeClass("disabled"),$("#button-addon1").attr("class","btn btn-primary")):($(a).addClass("disabled"),$("#button-addon1").attr("class","btn btn-outline-light"))}))}(".form-check-input","#btn-reset-filter"),n(i,a,0,12),d(l,m,a,0,12),p(".see-detail-course"),p(".apply-course")}),1500)})).fail((function(){}))}function f(){var e=$("#courseCarouselDiscount"),t=$("#courseCarouselTwenty"),s=$("#courseCarouselFree"),i=$("#course-provider-list"),l=$("#load-more-lp");(e.length||t.length||s.length)&&$.getJSON(a,(function(a){dataLimited=_.sample(_.filter(a,(function(e){return"0"!==e.course_after_discount&&"20000"!==e.course_after_discount})),10),dataTwenty=_.sample(_.filter(a,(function(e){return"20000"==e.course_after_discount})),10),dataFree=_.sample(_.filter(a,(function(e){return"0"==e.course_after_discount})),10),e.html(""),t.html(""),s.html("");for(var o,n={},d=[],u=0;o=a[u++];){var p=o.lp_name.toLowerCase();p in n||(n[p]=1,d.push({lp_name:o.lp_name,lp_logo:o.lp_logo}))}d=_.sortBy(d,"lp_name"),i.html("");var m=d.length,f=Math.ceil(m/12);$.each(d.slice(0,12),(function(e,t){i.append('<div class="col-12.col-sm-6 col-md-4 col-xl-3"><a class="text-capitalize card-company-list" href="pelatihan/index.html?topic=&keyword=&price=&lp='+t.lp_name.replace(/\s+/gi,"-").toLowerCase()+'" title="'+a.course_title+'"><img class="me-1 card-logo" height="40" src="'+t.lp_logo+'" alt="'+t.lp_name+'"/><span class="lp-name">'+t.lp_name+"</span></a></div>")})),c(l,12,0,12,d,i,1,f),$.each(dataLimited,(function(a,t){r(e,t,"home")})),$.each(dataTwenty,(function(e,a){r(t,a,"home")})),$.each(dataFree,(function(e,a){r(s,a,"home")}))})).done((function(){$(".owl-carousel").owlCarousel({loop:!1,margin:24,nav:!0,dots:!1,responsive:{0:{items:1.2,margin:16,nav:!1},600:{items:3,margin:16,nav:!1},1e3:{items:4,nav:!1},1200:{items:4,nav:!0}}})}))}function h(){var s=_.isEmpty(t.get("id"))?"ISW-P0005":t.get("id"),i=$("#detail-course"),l=$("#courseCarousel"),o=$("#breadcrumb-detail ol");i.length&&$.getJSON(a,(function(a){var t,c,n=_.findWhere(a,{course_id:s}),d=_.reject(_.filter(a,(function(e){return-1!==e.course_category.toLowerCase().indexOf(n.course_category.toLowerCase())})),(function(e){return e.course_id==s}));a.course_category;i.html("").append((c="100%"==(t=n).course_discount?"Gratis":"Rp "+Number(t.course_after_discount).toLocaleString("id"),'<section class="section-detail-course"><div class="container py-5 px-4 px-md-0"><div class="row flex-row-reverse"><div class="col-12 col-md-4 col-lg-4"><img class="w-100 rounded" src="'+t.course_image+'" alt=""/><div class="mt-3"><div class="course-real-price mb-1"><span class="me-1">Rp '+t.course_price+'</span><span class="badge text-bg-ghost-success">'+t.course_discount+'</span></div><div class="course-price card-price mb-1 color-secondary fs-4">'+c+'</div></div><div class="course-cta px-3 px-lg-0"><button class="my-3 btn btn-primary btn-lg w-100" data-bs-toggle="modal" data-bs-target="#getCourseNotLoginModal">Dapatkan Voucher Pelatihan </button></div><button class="btn btn-light share-button mb-3 w-100" type="button" title="Bagikan halaman ini"><i class="bi bi-share">&nbsp;</i>bagikan</button></div><div class="col-12 col-md-8 col-lg-8 pe-xl-4"><h1 class="mb-3">'+t.course_title+'</h1><a class="card-company-link d-inline-flex p-2 text-decoration-none" href="'+e+"pelatihan?topic=&keyword=&price=&lp="+t.lp_name+'"><img class="me-1 card-logo" src="'+t.lp_logo+'" alt="'+t.lp_name+'"/><span class="lp-name fs-7 text-secondary">'+t.lp_name+'</span></a><div class="row mt-5 mb-4"> <div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-person-badge"></i><div class="ps-2"> <h6 class="fs-7 mb-2">Instruktur</h6><p class="fs-7">'+t.instructure_name+'</p></div></div><div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-clock"> </i><div class="ps-2"> <h6 class="fs-7 mb-2">Durasi Pelatihan</h6><p class="fs-7">'+t.duration+'</p></div></div><div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-person-video"> </i><div class="ps-2"> <h6 class="fs-7 mb-2">Metode Ajar</h6><span class="badge rounded-pill text-bg-warning">'+t.course_type+'</span></div></div><div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-tag"> </i><div class="ps-2"> <h6 class="fs-7 mb-2">Kategori</h6><p class="fs-7">'+t.course_category+'</p></div></div><div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-ticket-detailed"> </i><div class="ps-2"> <h6 class="fs-7 mb-2">Kuota Pelatihan</h6><p class="fs-7">'+t.quota+'<i>&nbsp;(Selama masih tersedia)</i></p></div></div><div class="col-12 col-md-6 col-lg-4 mb-4 d-flex"> <i class="bi bi-link-45deg"></i><div class="ps-2 overflow-hidden"><h6 class="fs-7 mb-2">Link Pelatihan</h6><a class="fs-7 d-flex align-items-center" href="#"> <span class="pds-truncate">'+t.course_url+'</span><i class="bi bi-arrow-up-right-square-fill"></i></a></div></div></div><hr/><article><section class="py-3"><h4 class="mb-4">Deskripsi Pelatihan </h4><article id="description">'+t.description.replace(/\n/g,"</br>")+'</article></section><section class="py-3" id="CaraRedeemVoucher"><h4 class="mb-4">Cara Redeem Voucher</h4><article id="how-to-redeem">'+t.how_to_redeem.replace(/\n/g,"</br>")+"</article></section><hr/></article></div></div></div></section>")),o.html(function(e){return'<ol class="breadcrumb"><li class="breadcrumb-item"> <a href="/v3/"><i class="bi bi-house-door"></i></a></li><li class="breadcrumb-item"> <a href="/v3//pelatihann">Pelatihan </a></li><li class="breadcrumb-item active text-truncate">'+e.course_title+"</li></ol>"}(n)),l.html(""),$.each(d,(function(e,a){r(l,a,"detail")}))})).done((function(){$(".owl-carousel").owlCarousel({loop:!1,margin:24,nav:!0,dots:!1,responsive:{0:{items:1.2,margin:16,nav:!1},600:{items:3,margin:16,nav:!1},1e3:{items:4,nav:!1},1200:{items:4,nav:!0}}})}))}function v(){var e=_.isNull(s)?"Masuk":s.email,a=$("#btn-login"),t=$("#btn-logout"),l=$("#loginModal"),o=$("#loginSuccessModal"),r=$("#loginAlreadyModal"),c=$(".login-dismiss"),n=$("#login-form"),d=$("#submit-login");_.isNull(s)?(a.find("span").after(e).remove(),a.click((function(){l.modal("show")})),_.isNull(i)&&(l.modal("show"),c.click((function(){localStorage.setItem("login-popup-skip",!0),n.find(".alert.alert-danger").addClass("visually-hidden"),d.removeClass("disabled").html("Masuk")}))),n.submit((function(e){e.preventDefault();var t={email:n.find("input#userEmail").val(),password:n.find("input#userPassword").val()};_.isEmpty(t.email)||_.isEmpty(t.password)||(d.addClass("disabled").html('<span class="spinner-border spinner-border-sm mr-2" role="status" aria-hidden="true"> </span><span class="sr-only"> Loading...</span>'),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"https://api-ext.prakerja.go.id/api/v1/user/login-a17ab03c3d1d",data:JSON.stringify(t)}).done((function(e){var s=e.data;7!==s.stat.step?(d.removeClass("disabled").html("Masuk"),n.find(".alert.alert-danger").removeClass("visually-hidden").find(".alert.alert-danger .text-error").html("Lengkapi dan selesaikan proses daftar di Prakerja untuk bisa login pada Skillsweek")):(localStorage.setItem("users",JSON.stringify(_.extend(s,{email:t.email}))),a.find("i").after(t.email),n.find(".alert.alert-danger").addClass("visually-hidden"),d.removeClass("disabled").html("Masuk"),l.modal("hide"),o.find(".email-account").text(t.email).modal("show"))})).fail((function(e){n.find(".alert.alert-danger").removeClass("visually-hidden").find(".alert.alert-danger .text-error").html("Alamat email atau password salah. Mohon periksa kembali."),d.removeClass("disabled").html("Masuk")})))})),d.click((function(){}))):(a.find("span").after(e).remove(),a.click((function(){r.find("#validEmailUser").val(s.email),r.find(".text-email").text("("+s.email+")"),r.modal("show"),t.click((function(){localStorage.removeItem("users"),window.location.reload()}))})))}!function(e){e(window).scroll((function(){var a=e(window).scrollTop();a>=60?e("header").addClass("header-fixed"):e("header").removeClass("header-fixed"),a>=400?e(".scroll-top").addClass("is-show"):e(".scroll-top").removeClass("is-show")})),e(".scroll-top").on("click",(function(){e(window).scrollTop(0)})),e(".menu").click((function(){e(this).toggleClass("open"),e(".navbar-custom").toggleClass("m-menu"),e("body").toggleClass("freeze")})),e(".navbar-custom").on("click",".nav-link",(function(a){e(".menu").removeClass("open"),e(".navbar-custom").removeClass("m-menu"),e("body").removeClass("freeze")})),e("#coworkingCarousel").owlCarousel({loop:!0,margin:24,nav:!1,autoplay:!0,responsive:{0:{items:1,margin:0}}}),e(".cws-carousel").owlCarousel({loop:!0,margin:24,nav:!0,autoplay:!0,responsive:{0:{items:1,margin:0}}}),e(".show-password").click((function(a){var t=a.currentTarget;e(t).hasClass("show-password-target")?function(e){e.removeClass("show-password-target").addClass("hide"),e.prev("input").attr("type","password"),e.children().addClass("bi-eye").removeClass("bi-eye-slash")}(e(t)):function(e){e.removeClass("hide").addClass("show-password-target"),e.prev("input").attr("type","text"),e.children().removeClass("bi-eye").addClass("bi-eye-slash")}(e(t))}));var a=e("#liveToastBtn"),t=e("#liveToast");if(a.length){var s=bootstrap.Toast.getOrCreateInstance(t);a.addEventListener("click",(function(){s.show()}))}e(document).ready((function(){m(),f(),h(),v()}))}(jQuery);
//# sourceMappingURL=function-min.js.map